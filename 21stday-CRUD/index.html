<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let url="https://6350df063e9fa1244e4f2704.mockapi.io/users"
        // Read data=>GET 
        async function getUsersData(){
            try{
                let data=await fetch(url)
                let res=await data.json()
                console.log(res)
                console.table(res)
            }
            catch(err){
                console.log(err)
            }
        }
        getUsersData()

        // Read data with specific Ids:
        // GET	/users/:id
        //concatenate /idno
        console.log(url+"/1")//id =1
        console.log(url+"/10")//id=10
        console.log(`${url}/1`)//id=1
        async function getUsersSpecificData(){
            let data=await fetch(url+"/1")
            let res=await data.json()
            console.log(res)
            console.table(res)
        }
        getUsersSpecificData()

        let count=Math.floor(Math.random()*10+1)
        // console.log(count)
        // console.log(url+"/"+count)
        // console.log(`${url}/${count}`)
        async function getUsersSpecificRandomData(){
            let data=await fetch(url+"/"+count)
            let res=await data.json()
            console.log(res)
            console.table(res)
        }
        getUsersSpecificRandomData()

        // Create =>POST METHOD
        // POST	/users

        async function createNewUsersData(){
            let newUser=
            {
             "name":"Sree",
             "email":"sree123@gmail.com"   
            }
            

            let data=await fetch(url,{
                method:"POST",
                headers:{'Content-Type': "application/json"},
                body:JSON.stringify(newUser)
            })
            let res=await data.json();
            console.log(res)
        }
        createNewUsersData()

        // Update => PUT Method
        // PUT	/users/:id
        // chnage in data+id no

        async function updateUsersData(){
            let newUser={
                "email":"updateuser@gmail.com",
                "name":"Mr. Update User"
            }

            let data=await fetch(url+"/10",{
                method:"PUT",
                headers:{'Content-Type':"application/json"},
                body:JSON.stringify(newUser)
            })
            let res=await data.json()
            console.log(res)
        }
        updateUsersData()

        // Delete=>delete 
        // DELETE	/blogs/:id

        async function deleteUsersData(){

            let data=await fetch(url+"/9",{
                method:"DELETE",
                headers:{'Content-Type':"application/json"}
            })
            let res=await data.json()
            console.log(res)
        }
        deleteUsersData()

    </script>
</body>
</html>